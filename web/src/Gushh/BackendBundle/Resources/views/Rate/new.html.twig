{% extends "GushhBackendBundle::base.html.twig" %}

{% block styles %}
  <link rel="stylesheet" href="{{ asset('backend/global/vendor/formvalidation/formValidation.min.css') }}">  
{% endblock %}

{% block content %}

  <div class="page animsition">
    <div class="page-content">
      <div class="page-header page-header-bordered">
        <h1 class="page-title">Hotels</h1>
        <ol class="breadcrumb">
          <li><a href="{{ path('dashboard') }}">Backend</a></li>
          <li><a href="{{ path('backend_hotels') }}">Hotels</a></li>
          <li><a href="{{ path('backend_hotel_show', {'hid': room.hotel.id } ) }}">{{ room.hotel }}</a></li>
          <li><a href="{{ path('backend_room_show', {'hid': room.hotel.id, 'rid': room.id, 'tab': 'rooms' } ) }}">Rooms</a></li>
          <li><a href="{{ path('backend_room_show', {'hid': room.hotel.id, 'rid': room.id } ) }}">{{ room }}</a></li>
          <li><a href="{{ path('backend_room_show', {'hid': room.hotel.id, 'rid': room.id, 'tab': 'rates' } ) }}">Rates</a></li>
          <li class="active">New</li>
        </ol>
        <div class="page-header-actions">
          <a href="{{ path('backend_room_show', { 'hid': room.hotel.id, 'rid': room.id, 'tab': 'rates' }) }}" class="btn btn-default">
            <i class="icon fa-chevron-left" aria-hidden="true"></i> Back
          </a>          
        </div>
      </div>
      
      <!-- Panel Table Individual column searching -->
      <div class="panel">
        <div class="panel-body container-fluid">
          <div class="row">
            <div class="col-sm-12">
              <!-- Form -->
              {{ form_start(form) }}
                <h4 class="text-center">Basic Rate Information</h4>
                {{ form_errors(form) }}
                <div class="row">
                  <div class="form-group col-sm-4">
                    <label class="control-label">Name</label>
                    {{ form_widget(form.name) }}
                  </div>
<!--                  <div class="form-group col-sm-1">
                    <label class="control-label">Is Black Out</label>
                    <input class="form-control" type="checkbox" name="isBlackout" style="width: 30px;margin-top: 0px;" value="" onclick="$('.blackOut').prop('disabled',this.checked);">
                  </div>
    -->
                  <div class="form-group col-sm-4">
                    <label class="control-label">Occupancy Tax</label>
                    {{ form_widget(form.occupancyTax) }}
                  </div>
                  <div class="form-group col-sm-3">
                    <label class="control-label">Label (color)</label>
                    {{ form_widget(form.label) }}
                  </div>
                </div>

                <div class="row">
                  <div class="form-group col-md-3">
                    <label class="control-label ">Price</label>
                    {{ form_widget(form.price) }}
                  </div>
                  <div class="form-group col-md-3">
                    <label class="control-label">Tax</label>
                    {{ form_widget(form.tax) }}
                  </div>
                  <div class="form-group col-md-3">
                    <label class="control-label">Profit Type</label>
                    {{ form_widget(form.profitType) }}
                  </div>
                  <div class="form-group col-md-3">
                    <label class="control-label">Profit</label>
                    {{ form_widget(form.profit) }}
                  </div>
                </div>

                <h4 class="text-center">Extra Person Prices</h4>

              <div class="row">
                <div class="form-group col-md-2 {{ room.capacity < 3 ? 'hide' }}">
                  <label class="control-label">Third Person</label>
                    {{ form_widget(form.priceTriple) }}
                </div>
                <div class="form-group col-md-2 {{ room.capacity < 4 ? 'hide' }}">
                  <label class="control-label">Fourth Person</label>
                    {{ form_widget(form.priceQuadruple) }}
                </div>
                <div class="form-group col-md-2 {{ room.capacity < 5 ? 'hide' }}">
                  <label class="control-label">Fifth Person</label>
                    {{ form_widget(form.priceQuintuple) }}
                </div>
                <div class="form-group col-md-2 {{ room.capacity < 6 ? 'hide' }}">
                  <label class="control-label">Sixth Person</label>
                    {{ form_widget(form.priceSextuple) }}
                </div>
                <div class="form-group col-md-2 {{ room.capacity < 7 ? 'hide' }}">
                  <label class="control-label">Seventh Person</label>
                    {{ form_widget(form.priceSeptuple) }}
                </div>
                <div class="form-group col-md-2 {{ room.capacity < 8 ? 'hide' }}">
                  <label class="control-label">Eighth Person</label>
                    {{ form_widget(form.priceOctuple) }}
                </div>
              </div>

                <div class="form-group text-center">
                  <a href="{{ path('backend_room_show', { 'hid': room.hotel.id, 'rid': room.id, 'tab': 'rates' }) }}" class="btn btn-outline btn-default">Cancel</a>
                  <button type="submit" class="btn btn-success" id="saveRate">Save Rate</button>
                </div>
                
                {{ form_rest(form) }}

              {{ form_end(form) }}
              <!-- End Form -->
            </div>
          </div>
        </div>        
      </div>
      <!-- End Panel Table Individual column searching -->
    </div>
  </div>

{% endblock %}

{% block footer_js %}
  <script src="{{ asset('backend/global/vendor/formvalidation/formValidation.min.js') }}"></script>
  <script src="{{ asset('backend/global/vendor/formvalidation/framework/bootstrap.min.js') }}"></script>
  <script src="{{ asset('backend/js/pages/room-rate/formValidation.min.js') }}"></script>
{% endblock %}